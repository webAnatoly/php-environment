Долго пыталя запустить сборку php с использованием Composer. Наконец-то получилось.  

Composer тут запускается из докер образа с указанием папки куда мапяться зависимости из контейнера на хост машину.  

Пример команд:  
docker run --rm -v $PWD:/app composer require --dev phpunit/phpunit ^8  
docker run --rm -v $PWD:/app composer require tightenco/collect  

$PWD - переменная окружения линукс указывающая на текущею директорию  
app - это папка на хосте куда мапить зависимости из контейнера.  

Интересный момент:  

Когда докер из контейнера вольюмит папку на хост, то получается, что папка эта создается из под root пользователя и принадлежит группе root (потому что внутри контейнер запускается как root). Что-бы спокойно редактировать эти папки/файлы на хосте нужно изменить права доступа и добавить в свою группу. 
Команда для этого sudo chown -R username:groupname . 
Точка в конце команды означает путь от текущей папки.
